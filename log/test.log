  [1m[35m (29.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "myapp_test"[0m
  [1m[35m (115.1ms)[0m  [1m[35mCREATE DATABASE "myapp_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (5.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments" CASCADE[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "content" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user_id" bigint, "post_id" bigint)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_post_id" ON "comments"  ("post_id")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE  INDEX  "index_comments_on_user_id" ON "comments"  ("user_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying, "content" text, "view" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "topic_id" bigint, "user_id" bigint)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_topic_id" ON "posts"  ("topic_id")[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE  INDEX  "index_posts_on_user_id" ON "posts"  ("user_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "topics" CASCADE[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "topics" ("id" bigserial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "mobile" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "username" character varying, "city" character varying, "introduction" text, "cardtype" character varying, "cardno" character varying, "remember_digest" character varying, "last_login" timestamp, "reset_digest" character varying, "reset_sent_at" timestamp)[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_70d0b6486a"
FOREIGN KEY ("topic_id")
  REFERENCES "topics" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200520125023)[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200513141907),
(20200519003350),
(20200410122104),
(20200516134955),
(20200519003339),
(20200519003258),
(20200518074444),
(20200517075238),
(20200517031951),
(20200516075202),
(20200519070431),
(20200514022521),
(20200519003245);

[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-05-30 11:53:22.768940"], ["updated_at", "2020-05-30 11:53:22.768940"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "topics" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "posts";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "topics";
INSERT INTO "users" ("id", "email", "mobile", "password_digest", "created_at", "updated_at", "username", "city", "introduction", "cardtype", "cardno", "remember_digest", "last_login", "reset_digest", "reset_sent_at") VALUES (965022582, 'testuser@example.com', '0123456789', '$2a$04$ZgmxBfLneRTiwQX7O6m.j.isyRarNRNKxsi6bS.6s4wLyYEAKdiBy', '2020-05-30 11:53:23.028630', '2020-05-30 11:53:23.028630', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (129232768, 'james@example.com', '0123456789', '$2a$04$zjXY7lk0i7t3bafHSnJSIOeLv5e8BouEqD4Qi0.1nPaf4xO7MaZsK', '2020-05-30 11:53:23.028630', '2020-05-30 11:53:23.028630', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "topics" ("id", "name", "created_at", "updated_at") VALUES (426078165, 'React', '2020-05-30 11:53:23.040714', '2020-05-30 11:53:23.040714'), (156340709, 'A.I.', '2020-05-30 11:53:23.040714', '2020-05-30 11:53:23.040714')[0m
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "topics" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
TopicsControllerTest: test_should_redirect_to_home_path_after_toggle_the_topic
------------------------------------------------------------------------------
  [1m[35m (2.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.8ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:53:23.175133"], ["updated_at", "2020-05-30 11:53:23.175133"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/topics/426078166" for 127.0.0.1 at 2020-05-30 11:53:23 +0000
Processing by TopicsController#update as HTML
  Parameters: {"id"=>"426078166"}
  [1m[36mTopic Load (1.3ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078166], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 13ms (ActiveRecord: 3.7ms)
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
PostsControllerTest: test_should_redirect_new_post_if_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (2.4ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:53:23.281931"], ["updated_at", "2020-05-30 11:53:23.281931"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/posts/new" for 127.0.0.1 at 2020-05-30 11:53:23 +0000
Processing by PostsController#new as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
PostsControllerTest: test_should_go_to_the_post's_page
------------------------------------------------------
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (2.1ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (1.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:53:23.328441"], ["updated_at", "2020-05-30 11:53:23.328441"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/posts/2" for 127.0.0.1 at 2020-05-30 11:53:23 +0000
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) AND "posts"."id" != $2 LIMIT $3[0m  [["title", "Testing Post"], ["id", 2], ["LIMIT", 1]]
  [1m[36mPost Update (1.7ms)[0m  [1m[33mUPDATE "posts" SET "view" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["view", 1], ["updated_at", "2020-05-30 11:53:23.351415"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/show.html.erb within layouts/application
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (17.0ms)
  Rendered posts/show.html.erb within layouts/application (68.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18028ms (Views: 17969.9ms | ActiveRecord: 32.4ms)
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
PostsControllerTest: test_should_redirect_to_new_post_if_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (1.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:53:41.358987"], ["updated_at", "2020-05-30 11:53:41.358987"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"james@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "james@example.com"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$tM1llFEvhURPiO3pFA8dGuL7lHVeYjhvZVkXEDLlosLiEzKGfydEC"], ["updated_at", "2020-05-30 11:53:41.385008"], ["id", 129232768]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:53:41.393660"], ["last_login", "2020-05-30 11:53:41.391170"], ["id", 129232768]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 27ms (ActiveRecord: 12.2ms)
Started GET "/posts/new" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by PostsController#new as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_post_errors.html.erb (0.5ms)
  [1m[36mTopic Load (2.1ms)[0m  [1m[34mSELECT "topics".* FROM "topics"[0m
  Rendered posts/new.html.erb within layouts/application (23.3ms)
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 26.7ms | ActiveRecord: 5.8ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$rl8TVNglKLzn3KZHlI579uK5BvDf2zQYFzMiRcppubO0vMoNDqlr2"], ["updated_at", "2020-05-30 11:53:41.469812"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$a1Haf7QH5uKM4pLM7LhxRuptwQ5VjHKU9htEt21O2sFRQQ03XnavK"], ["updated_at", "2020-05-30 11:53:41.479279"], ["id", 965022582]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$gpAbsy1o67ltRSoN643HKOmgcGVJkqp9GDZWb1JMr7mUpcesmkEYS"], ["updated_at", "2020-05-30 11:53:41.510325"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 19.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
SessionsControllerTest: test_should_get_login
---------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (4.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/new.html.erb within layouts/application (19.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 37.4ms | ActiveRecord: 0.0ms)
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"invaliduser@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: :name
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "invaliduser@invalid"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.4ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 6.8ms | ActiveRecord: 7.7ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "mobile"=>"0000000232"}}
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["mobile", "0000000232"], ["password_digest", "$2a$04$Dm7M27t5Baw9H6jr90I48u8PenxXJyds65LLELIDY4aCi9/8A4pyO"], ["created_at", "2020-05-30 11:53:41.786851"], ["updated_at", "2020-05-30 11:53:41.786851"]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:53:41.794776"], ["last_login", "2020-05-30 11:53:41.792357"], ["id", 965022583]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 11.4ms)
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/home" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022583], ["LIMIT", 1]]
  [1m[36mPost Load (2.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:53:41.807788' AND created_at <= '2020-05-30 11:53:41.807913') ORDER BY created_at desc[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022583], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (2.2ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (21.7ms)
  Rendered posts/index.html.erb within layouts/application (30.4ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022583], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 18.7ms | ActiveRecord: 16.7ms)
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
UsersControllerTest: test_should_render_myprofile_when_logged_in
----------------------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$164OTCwZcx1vWc9NnvhDJOtcghEFC3vWdew7SGyTsJDOtyg4bU.pK"], ["updated_at", "2020-05-30 11:53:41.893766"], ["id", 965022582]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:53:41.902748"], ["last_login", "2020-05-30 11:53:41.899488"], ["id", 965022582]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 24ms (ActiveRecord: 13.5ms)
Started GET "/myprofile/965022582" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"965022582"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  Rendering users/myprofile.html.erb within layouts/application
  Rendered users/_side_navbar.html.erb (1.2ms)
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 965022582]]
  [1m[36mComment Load (1.8ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1 ORDER BY created_at desc[0m  [["user_id", 965022582]]
  Rendered users/_show.html.erb (12.1ms)
  Rendered users/myprofile.html.erb within layouts/application (38.4ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 38.2ms | ActiveRecord: 8.3ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:53:41 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
UsersControllerTest: test_should_redirect_myprofile_when_incorrect_user
-----------------------------------------------------------------------
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:53:42 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$qC9YNKOfKOTnSozm40Ed6.4D5fIdD5SvonroOTFBNKgclm2BhjQve"], ["updated_at", "2020-05-30 11:53:42.027326"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:53:42.037046"], ["last_login", "2020-05-30 11:53:42.033416"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 12.7ms)
Started GET "/myprofile/129232768" for 127.0.0.1 at 2020-05-30 11:53:42 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"129232768"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 3.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
UsersControllerTest: test_should_redirect_myprofile_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/myprofile/965022582" for 127.0.0.1 at 2020-05-30 11:53:42 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"965022582"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
UsersControllerTest: test_should_not_redirect_edit_when_not_logged_in
---------------------------------------------------------------------
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/users/965022582/edit" for 127.0.0.1 at 2020-05-30 11:53:42 +0000
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"965022582"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
-------------------------------
TopicTest: test_should_be_valid
-------------------------------
  [1m[36mTopic Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  Rendering user_mailer/password_reset.html.erb within layouts/mailer
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (1.1ms)
  Rendering user_mailer/password_reset.text.erb within layouts/mailer
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.6ms)
UserMailer#password_reset: processed outbound mail in 243.9ms
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_topic_id_is_not_valid
--------------------------------------------------------------
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (3.0ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:53:42.565717"], ["updated_at", "2020-05-30 11:53:42.565717"]]
  [1m[35m (2.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (3.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$o5ZU9C3LQtk25vN1C4JAku9aitIRmGJHZBl.aXBXQWBgqC2evKUxG"], ["created_at", "2020-05-30 11:53:42.586663"], ["updated_at", "2020-05-30 11:53:42.586663"]]
  [1m[35m (2.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022584], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_user_id_and_topic_id_are_not_valid
---------------------------------------------------------------------------
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.7ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:53:42.619935"], ["updated_at", "2020-05-30 11:53:42.619935"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$9u.CD22CefhIa/QrUTV1NuEPhT9cltSGBJcC7NkwhijVq3iWScR.2"], ["created_at", "2020-05-30 11:53:42.631668"], ["updated_at", "2020-05-30 11:53:42.631668"]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostTest: test_post_content_cannot_be_empty
-------------------------------------------
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.7ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:53:42.661677"], ["updated_at", "2020-05-30 11:53:42.661677"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$ZjHtFBB2d2Nm26vvQHpUveTvjZFI4w4iP/2/JeP8jS0CAUyVfnoVi"], ["created_at", "2020-05-30 11:53:42.673973"], ["updated_at", "2020-05-30 11:53:42.673973"]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022586], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078169], ["LIMIT", 1]]
  [1m[36mPost Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostTest: test_post_title_cannot_be_empty
-----------------------------------------
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.4ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:53:42.701530"], ["updated_at", "2020-05-30 11:53:42.701530"]]
  [1m[35m (2.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$V9CTbS5Yb0V9XwfKNpKZ0.u6MIjLDkc7Soil3G/CpFizDqTmHB3ri"], ["created_at", "2020-05-30 11:53:42.716577"], ["updated_at", "2020-05-30 11:53:42.716577"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022587], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078170], ["LIMIT", 1]]
  [1m[36mPost Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "  "], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_user_id_is_not_valid
-------------------------------------------------------------
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.6ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:53:42.745062"], ["updated_at", "2020-05-30 11:53:42.745062"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$6frxOBuDTT6ASi8HVv43J.M0wt3NNAn9/yc2HTyA3XW/Vbip3boT2"], ["created_at", "2020-05-30 11:53:42.757730"], ["updated_at", "2020-05-30 11:53:42.757730"]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022588], ["LIMIT", 1]]
  [1m[36mTopic Load (2.0ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
PostTest: test_should_be_valid
------------------------------
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.7ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:53:42.788001"], ["updated_at", "2020-05-30 11:53:42.788001"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$OOCNMn45JVMhCZ1ZKhHrmORQXTiFxsLyxgbz71cnfyNeA589u52n6"], ["created_at", "2020-05-30 11:53:42.801641"], ["updated_at", "2020-05-30 11:53:42.801641"]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022589], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078172], ["LIMIT", 1]]
  [1m[36mPost Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
---------------------------------
CommentTest: test_should_be_valid
---------------------------------
  [1m[35m (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.7ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:53:42.830848"], ["updated_at", "2020-05-30 11:53:42.830848"]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$BIkVPJNfUmVqkdPOerCyW.HbOpQg.hH0x922Iize3ldBQ78q1u5VG"], ["created_at", "2020-05-30 11:53:42.842885"], ["updated_at", "2020-05-30 11:53:42.842885"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022590], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078173], ["LIMIT", 1]]
  [1m[36mPost Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (1.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:53:42.858337"], ["updated_at", "2020-05-30 11:53:42.858337"], ["topic_id", 426078173], ["user_id", 965022590]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022590], ["LIMIT", 1]]
  [1m[36mPost Load (2.2ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$XLIGt4CcpSTP63Gua4t8e.cM8CT./NfnyI17f9s0QIFqTmp7aT5xy"], ["created_at", "2020-05-30 11:53:42.886971"], ["updated_at", "2020-05-30 11:53:42.886971"]]
  [1m[35m (2.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "TEST@TEST.COM"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_in_between_8_and_20_characters
------------------------------------------------------------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_mobile-no_should_be_minimum_10_digits
----------------------------------------------------
  [1m[36mUser Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_exclude_special_characters
-----------------------------------------------------------------------------------
  [1m[36mUser Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_can_contain_only_digits_and_words
-----------------------------------------------------------------------------------
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_contain_only_digits_and_words
--------------------------------------------------------------------------------------
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "foo@bar_barz.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UserTest: test_mobile-no_should_be_digits
-----------------------------------------
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_maximum_20_characters
---------------------------------------------------------------------------------
  [1m[36mUser Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (4.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_the_same
--------------------------------------------------------------------
  [1m[36mUser Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_mobile-no_should_be_in_between_10_to_13_digits
-------------------------------------------------------------
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_minimum_8_characters
--------------------------------------------------------------------------------
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_mobile-no_should_be_maximum_13_digits
----------------------------------------------------
  [1m[36mUser Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 1.9ms)
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (4.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$L5c6NPG8ZkoRrYJMevjmGe.W9D7nXfO5QnYstFIRz5aVbHOYysZEy"], ["updated_at", "2020-05-30 11:53:43.257546"], ["id", 965022582]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:53:43.267835"], ["last_login", "2020-05-30 11:53:43.264880"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 31ms (ActiveRecord: 18.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:53:43.326588"], ["last_login", "2020-05-30 11:53:43.323664"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 12.7ms)
Started GET "/home" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mPost Load (1.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:53:43.337149' AND created_at <= '2020-05-30 11:53:43.337238') ORDER BY created_at desc[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (15.2ms)
  Rendered posts/index.html.erb within layouts/application (21.4ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 28ms (Views: 14.8ms | ActiveRecord: 11.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 5.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:53:43.389381' AND created_at <= '2020-05-30 11:53:43.389527') ORDER BY created_at desc[0m
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (16.4ms)
  Rendered posts/index.html.erb within layouts/application (20.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 12.8ms | ActiveRecord: 12.0ms)
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$AKq2FYvteePbfcIRi6x5DunovYZw6hD0N6dKXfc76jd.waOXbNQf6"], ["updated_at", "2020-05-30 11:53:43.441364"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:53:43.448743"], ["last_login", "2020-05-30 11:53:43.446720"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 11.5ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:53:43 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2020-05-30 11:53:43.464984"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:53:43.472622"], ["last_login", "2020-05-30 11:53:43.470406"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 20ms (ActiveRecord: 11.9ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "topics" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "posts";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "topics";
INSERT INTO "users" ("id", "email", "mobile", "password_digest", "created_at", "updated_at", "username", "city", "introduction", "cardtype", "cardno", "remember_digest", "last_login", "reset_digest", "reset_sent_at") VALUES (965022582, 'testuser@example.com', '0123456789', '$2a$04$XNFr9Xp2S1z1jzwzdz9jPepfu1aHUeiUZW0fFfHG5.flL6NHitt1G', '2020-05-30 11:58:30.426363', '2020-05-30 11:58:30.426363', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (129232768, 'james@example.com', '0123456789', '$2a$04$na2DYHObl/im3K3583vvVeiSqR9aITMvGx.bqTh4x1rP0hoYiMCAG', '2020-05-30 11:58:30.426363', '2020-05-30 11:58:30.426363', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "topics" ("id", "name", "created_at", "updated_at") VALUES (426078165, 'React', '2020-05-30 11:58:30.441008', '2020-05-30 11:58:30.441008'), (156340709, 'A.I.', '2020-05-30 11:58:30.441008', '2020-05-30 11:58:30.441008')[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "topics" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_topic_id_is_not_valid
--------------------------------------------------------------
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.6ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:58:30.511191"], ["updated_at", "2020-05-30 11:58:30.511191"]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$GUj55awcfO.XRMMIhNCR0.if15M19uDdnxd2pyfc32mgwICWUvfrq"], ["created_at", "2020-05-30 11:58:30.542106"], ["updated_at", "2020-05-30 11:58:30.542106"]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022583], ["LIMIT", 1]]
  [1m[36mTopic Load (2.3ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostTest: test_post_content_cannot_be_empty
-------------------------------------------
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.5ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:58:30.613011"], ["updated_at", "2020-05-30 11:58:30.613011"]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$XrXKOMSqcb1.UZ8ZQAr4RuTUIYn8aj6lP6Q8jVubHaEg.DzJFHbNq"], ["created_at", "2020-05-30 11:58:30.625326"], ["updated_at", "2020-05-30 11:58:30.625326"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022584], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078167], ["LIMIT", 1]]
  [1m[36mPost Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostTest: test_post_title_cannot_be_empty
-----------------------------------------
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.8ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:58:30.657367"], ["updated_at", "2020-05-30 11:58:30.657367"]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$nVyZP5msqR/FQWyXqhdYy.sohDiywnW.g/1YPrVbxSHilZI6TEAFq"], ["created_at", "2020-05-30 11:58:30.669519"], ["updated_at", "2020-05-30 11:58:30.669519"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022585], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078168], ["LIMIT", 1]]
  [1m[36mPost Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "  "], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_user_id_is_not_valid
-------------------------------------------------------------
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.6ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:58:30.699466"], ["updated_at", "2020-05-30 11:58:30.699466"]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$ixjShZwFMI0HQLbp09EBaOERKNKB/a6ATsxlb.V0KPTTjEvvqpKQi"], ["created_at", "2020-05-30 11:58:30.711822"], ["updated_at", "2020-05-30 11:58:30.711822"]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022586], ["LIMIT", 1]]
  [1m[36mTopic Load (1.9ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_user_id_and_topic_id_are_not_valid
---------------------------------------------------------------------------
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.7ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:58:30.740768"], ["updated_at", "2020-05-30 11:58:30.740768"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$CWKbalD3Fg12eFj/Y1ZkEe19suCYHvmGn17D29W9H24a26s1.zQQO"], ["created_at", "2020-05-30 11:58:30.752506"], ["updated_at", "2020-05-30 11:58:30.752506"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
------------------------------
PostTest: test_should_be_valid
------------------------------
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.0ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:58:30.782770"], ["updated_at", "2020-05-30 11:58:30.782770"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$k6/mI.bvGuYkR/J2H.XhJeSEXA55qIKrqyoQChMxGP9uj9Ts9PTR6"], ["created_at", "2020-05-30 11:58:30.796330"], ["updated_at", "2020-05-30 11:58:30.796330"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022588], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078171], ["LIMIT", 1]]
  [1m[36mPost Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_mobile-no_should_be_minimum_10_digits
----------------------------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$JIfJ5B5Wu6sE1jb3/i8p.OEErS2KES/VzqTA0EvkqvDHOGGtGoGHq"], ["created_at", "2020-05-30 11:58:30.848863"], ["updated_at", "2020-05-30 11:58:30.848863"]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "TEST@TEST.COM"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "foo@bar_barz.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_in_between_8_and_20_characters
------------------------------------------------------------------------------------------
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UserTest: test_mobile-no_should_be_digits
-----------------------------------------
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_the_same
--------------------------------------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_can_contain_only_digits_and_words
-----------------------------------------------------------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_minimum_8_characters
--------------------------------------------------------------------------------
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_mobile-no_should_be_maximum_13_digits
----------------------------------------------------
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_maximum_20_characters
---------------------------------------------------------------------------------
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_contain_only_digits_and_words
--------------------------------------------------------------------------------------
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_mobile-no_should_be_in_between_10_to_13_digits
-------------------------------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_exclude_special_characters
-----------------------------------------------------------------------------------
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:58:31 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered users/new.html.erb within layouts/application (15.4ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 597ms (Views: 584.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2020-05-30 11:58:31 +0000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"invaliduser@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: :name
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "invaliduser@invalid"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.2ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 6.2ms | ActiveRecord: 5.3ms)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:58:31 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2020-05-30 11:58:31 +0000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "mobile"=>"0000000232"}}
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["mobile", "0000000232"], ["password_digest", "$2a$04$ZB/OROqpKSrQFlQEWJjkbuQrZgMciFtt9RgCk2yItnwSMzFUIr5Qa"], ["created_at", "2020-05-30 11:58:31.822148"], ["updated_at", "2020-05-30 11:58:31.822148"]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:58:31.830401"], ["last_login", "2020-05-30 11:58:31.827678"], ["id", 965022590]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 20ms (ActiveRecord: 9.5ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/home" for 127.0.0.1 at 2020-05-30 11:58:31 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022590], ["LIMIT", 1]]
  [1m[36mPost Load (2.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:58:31.846776' AND created_at <= '2020-05-30 11:58:31.846989') ORDER BY created_at desc[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022590], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (2.0ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (26.3ms)
  Rendered posts/index.html.erb within layouts/application (47.8ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022590], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 77ms (Views: 47.4ms | ActiveRecord: 16.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:58:31 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 20.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:58:31 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:58:31.995964"], ["last_login", "2020-05-30 11:58:31.993671"], ["id", 965022582]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 19ms (ActiveRecord: 9.0ms)
Started GET "/home" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mPost Load (1.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:58:32.005765' AND created_at <= '2020-05-30 11:58:32.005877') ORDER BY created_at desc[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.4ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (13.6ms)
  Rendered posts/index.html.erb within layouts/application (19.2ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 12.3ms | ActiveRecord: 10.8ms)
Started DELETE "/logout" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 4.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:58:32.048145' AND created_at <= '2020-05-30 11:58:32.048225') ORDER BY created_at desc[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.3ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (12.5ms)
  Rendered posts/index.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 10.2ms | ActiveRecord: 8.6ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Sqw8OEY57hKwGRP.ymepMOvUJsnqqvtU7YBnk6Hd2Gj92vlh78vqi"], ["updated_at", "2020-05-30 11:58:32.086948"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:58:32.094632"], ["last_login", "2020-05-30 11:58:32.092046"], ["id", 965022582]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 20ms (ActiveRecord: 10.3ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2020-05-30 11:58:32.111729"], ["id", 965022582]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:58:32.118384"], ["last_login", "2020-05-30 11:58:32.116473"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 20ms (ActiveRecord: 11.8ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 1.6ms)
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered users/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Ee105oVuXGv2LZTPFbYggObI7XZqF183UcCrwyhpyWd6sC62jZ6qm"], ["updated_at", "2020-05-30 11:58:32.182862"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:58:32.189968"], ["last_login", "2020-05-30 11:58:32.187714"], ["id", 965022582]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 20ms (ActiveRecord: 10.6ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------
CommentTest: test_should_be_valid
---------------------------------
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.8ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:58:32.210538"], ["updated_at", "2020-05-30 11:58:32.210538"]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$PPgxAMyDlupzMslaqX2y/O0DthajRwWlNb9SquqnMh7BH2N9d4XB6"], ["created_at", "2020-05-30 11:58:32.222113"], ["updated_at", "2020-05-30 11:58:32.222113"]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022591], ["LIMIT", 1]]
  [1m[36mTopic Load (1.3ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078172], ["LIMIT", 1]]
  [1m[36mPost Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.6ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:58:32.238062"], ["updated_at", "2020-05-30 11:58:32.238062"], ["topic_id", 426078172], ["user_id", 965022591]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022591], ["LIMIT", 1]]
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$zUSgFlZnxEuTw2.3tHXDMOjEKHJOxIxRdTwKeaoqrJsKZctmMFBj."], ["updated_at", "2020-05-30 11:58:32.278634"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$pP7IcE9nz0Dir7fTvUVMpu1ZH.P.9hIjrbBItenTGIlsP9iGqSa1u"], ["updated_at", "2020-05-30 11:58:32.287352"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$47Q/kbZl2CEX2RN/CBeTuOklzB7Pnib7TUXEX5pE6LgJ.Zr8QCqMK"], ["updated_at", "2020-05-30 11:58:32.311051"], ["id", 965022582]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
SessionsControllerTest: test_should_get_login
---------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  Rendering user_mailer/password_reset.html.erb within layouts/mailer
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.7ms)
  Rendering user_mailer/password_reset.text.erb within layouts/mailer
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.4ms)
UserMailer#password_reset: processed outbound mail in 160.5ms
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
PostsControllerTest: test_should_go_to_the_post's_page
------------------------------------------------------
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:58:32.752479"], ["updated_at", "2020-05-30 11:58:32.752479"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/posts/2" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (2.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) AND "posts"."id" != $2 LIMIT $3[0m  [["title", "Testing Post"], ["id", 2], ["LIMIT", 1]]
  [1m[36mPost Update (2.0ms)[0m  [1m[33mUPDATE "posts" SET "view" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["view", 1], ["updated_at", "2020-05-30 11:58:32.777752"], ["id", 2]]
  [1m[35m (2.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/show.html.erb within layouts/application
  [1m[35m (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.9ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (14.7ms)
  Rendered posts/show.html.erb within layouts/application (31.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 22.6ms | ActiveRecord: 26.2ms)
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
PostsControllerTest: test_should_redirect_new_post_if_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:58:32.858486"], ["updated_at", "2020-05-30 11:58:32.858486"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (2.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/posts/new" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by PostsController#new as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
PostsControllerTest: test_should_redirect_to_new_post_if_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (1.9ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:58:32.899858"], ["updated_at", "2020-05-30 11:58:32.899858"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"james@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "james@example.com"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$QQJz3ubMqIjgp7J5Euy25u8UVqQxFiYmGxTbVoCW2XMiOSQOiyjxm"], ["updated_at", "2020-05-30 11:58:32.914520"], ["id", 129232768]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:58:32.922488"], ["last_login", "2020-05-30 11:58:32.920064"], ["id", 129232768]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 11.4ms)
Started GET "/posts/new" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by PostsController#new as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_post_errors.html.erb (1.8ms)
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT "topics".* FROM "topics"[0m
  Rendered posts/new.html.erb within layouts/application (16.5ms)
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 21.0ms | ActiveRecord: 6.0ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
UsersControllerTest: test_should_render_myprofile_when_logged_in
----------------------------------------------------------------
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:58:32 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$/lIt/4EyeUKuICrTiBnqiuKJvgSJb3fX5wJLsAZsNey.49m/WBkj6"], ["updated_at", "2020-05-30 11:58:33.004785"], ["id", 965022582]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:58:33.019526"], ["last_login", "2020-05-30 11:58:33.016758"], ["id", 965022582]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 30ms (ActiveRecord: 13.1ms)
Started GET "/myprofile/965022582" for 127.0.0.1 at 2020-05-30 11:58:33 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"965022582"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  Rendering users/myprofile.html.erb within layouts/application
  Rendered users/_side_navbar.html.erb (1.7ms)
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 965022582]]
  [1m[36mComment Load (1.8ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1 ORDER BY created_at desc[0m  [["user_id", 965022582]]
  Rendered users/_show.html.erb (13.8ms)
  Rendered users/myprofile.html.erb within layouts/application (37.0ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 37.0ms | ActiveRecord: 8.2ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
UsersControllerTest: test_should_not_redirect_edit_when_not_logged_in
---------------------------------------------------------------------
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/users/965022582/edit" for 127.0.0.1 at 2020-05-30 11:58:33 +0000
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"965022582"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (4.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
UsersControllerTest: test_should_redirect_myprofile_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/myprofile/965022582" for 127.0.0.1 at 2020-05-30 11:58:33 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"965022582"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
UsersControllerTest: test_should_redirect_myprofile_when_incorrect_user
-----------------------------------------------------------------------
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:58:33 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$wdvkSuWrnxajykSzTVHGKeNnuMBUrdILxE9afG3n1BNLF7KhTEQkC"], ["updated_at", "2020-05-30 11:58:33.168251"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:58:33.176858"], ["last_login", "2020-05-30 11:58:33.173843"], ["id", 965022582]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 26ms (ActiveRecord: 12.5ms)
Started GET "/myprofile/129232768" for 127.0.0.1 at 2020-05-30 11:58:33 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"129232768"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 3.0ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:58:33 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
TopicsControllerTest: test_should_redirect_to_home_path_after_toggle_the_topic
------------------------------------------------------------------------------
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.5ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:58:33.236479"], ["updated_at", "2020-05-30 11:58:33.236479"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/topics/426078173" for 127.0.0.1 at 2020-05-30 11:58:33 +0000
Processing by TopicsController#update as HTML
  Parameters: {"id"=>"426078173"}
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078173], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 1.7ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
-------------------------------
TopicTest: test_should_be_valid
-------------------------------
  [1m[36mTopic Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "topics" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "posts";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "topics";
INSERT INTO "users" ("id", "email", "mobile", "password_digest", "created_at", "updated_at", "username", "city", "introduction", "cardtype", "cardno", "remember_digest", "last_login", "reset_digest", "reset_sent_at") VALUES (965022582, 'testuser@example.com', '0123456789', '$2a$04$uh.TR9gcH8GD/Y.oMrI22OB6/cutO5M/XpqxVHbN6UpbFAi6lcnPu', '2020-05-30 11:58:59.523028', '2020-05-30 11:58:59.523028', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (129232768, 'james@example.com', '0123456789', '$2a$04$qa/m80Qi4yxXff4tHtYrH.xMTUaa/kqSu2ybYo/WBna4q.OFRWYHy', '2020-05-30 11:58:59.523028', '2020-05-30 11:58:59.523028', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "topics" ("id", "name", "created_at", "updated_at") VALUES (426078165, 'React', '2020-05-30 11:58:59.538404', '2020-05-30 11:58:59.538404'), (156340709, 'A.I.', '2020-05-30 11:58:59.538404', '2020-05-30 11:58:59.538404')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "topics" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:58:59 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered users/new.html.erb within layouts/application (15.5ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 473ms (Views: 450.5ms | ActiveRecord: 0.0ms)
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2020-05-30 11:59:00 +0000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "mobile"=>"0000000232"}}
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["mobile", "0000000232"], ["password_digest", "$2a$04$cBuPZY5r5iwAvBX2EaPWrOuxwZjCBjJSXUUeFmnavV4MVCyAlN1hO"], ["created_at", "2020-05-30 11:59:00.214249"], ["updated_at", "2020-05-30 11:59:00.214249"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:00.223095"], ["last_login", "2020-05-30 11:59:00.220922"], ["id", 965022583]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 38ms (ActiveRecord: 19.1ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/home" for 127.0.0.1 at 2020-05-30 11:59:00 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022583], ["LIMIT", 1]]
  [1m[36mPost Load (2.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:59:00.240689' AND created_at <= '2020-05-30 11:59:00.240923') ORDER BY created_at desc[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022583], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (2.0ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (34.5ms)
  Rendered posts/index.html.erb within layouts/application (59.9ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022583], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 82ms (Views: 48.2ms | ActiveRecord: 24.2ms)
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:59:00 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2020-05-30 11:59:00 +0000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"invaliduser@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: :name
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "invaliduser@invalid"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.2ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 5.4ms | ActiveRecord: 4.9ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
PostsControllerTest: test_should_go_to_the_post's_page
------------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.9ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:59:00.417162"], ["updated_at", "2020-05-30 11:59:00.417162"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/posts/1" for 127.0.0.1 at 2020-05-30 11:59:00 +0000
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) AND "posts"."id" != $2 LIMIT $3[0m  [["title", "Testing Post"], ["id", 1], ["LIMIT", 1]]
  [1m[36mPost Update (2.2ms)[0m  [1m[33mUPDATE "posts" SET "view" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["view", 1], ["updated_at", "2020-05-30 11:59:00.442234"], ["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/show.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (2.0ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.7ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (14.6ms)
  Rendered posts/show.html.erb within layouts/application (40.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 75ms (Views: 25.7ms | ActiveRecord: 30.6ms)
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
PostsControllerTest: test_should_redirect_new_post_if_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (2.0ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:59:00.529971"], ["updated_at", "2020-05-30 11:59:00.529971"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/posts/new" for 127.0.0.1 at 2020-05-30 11:59:00 +0000
Processing by PostsController#new as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
PostsControllerTest: test_should_redirect_to_new_post_if_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (2.1ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:59:00.568155"], ["updated_at", "2020-05-30 11:59:00.568155"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:00 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"james@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "james@example.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$X6ONQIQyATJwukrEiDUAQ.7bMV41hvBaaVl38aIQr.eGDki5sqEhG"], ["updated_at", "2020-05-30 11:59:00.590460"], ["id", 129232768]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:00.598803"], ["last_login", "2020-05-30 11:59:00.596400"], ["id", 129232768]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 25ms (ActiveRecord: 11.6ms)
Started GET "/posts/new" for 127.0.0.1 at 2020-05-30 11:59:00 +0000
Processing by PostsController#new as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_post_errors.html.erb (0.6ms)
  [1m[36mTopic Load (2.0ms)[0m  [1m[34mSELECT "topics".* FROM "topics"[0m
  Rendered posts/new.html.erb within layouts/application (15.7ms)
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 18.6ms | ActiveRecord: 5.7ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  Rendering user_mailer/password_reset.html.erb within layouts/mailer
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.7ms)
  Rendering user_mailer/password_reset.text.erb within layouts/mailer
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.5ms)
UserMailer#password_reset: processed outbound mail in 170.9ms
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$RNYbSnQ2ucKWCzYkqkUCpuPWx.jMRS5YjMb6ChGgseLPsBW7GLnAm"], ["updated_at", "2020-05-30 11:59:01.038894"], ["id", 965022582]]
  [1m[35m (2.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:01.048365"], ["last_login", "2020-05-30 11:59:01.045463"], ["id", 965022582]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 24ms (ActiveRecord: 13.5ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 14.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:01.110770"], ["last_login", "2020-05-30 11:59:01.108709"], ["id", 965022582]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 17ms (ActiveRecord: 9.1ms)
Started GET "/home" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:59:01.121139' AND created_at <= '2020-05-30 11:59:01.121253') ORDER BY created_at desc[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (15.9ms)
  Rendered posts/index.html.erb within layouts/application (23.1ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 32ms (Views: 17.6ms | ActiveRecord: 11.8ms)
Started DELETE "/logout" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 6.1ms)
Started DELETE "/logout" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (1.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:59:01.184333' AND created_at <= '2020-05-30 11:59:01.184421') ORDER BY created_at desc[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (16.6ms)
  Rendered posts/index.html.erb within layouts/application (20.6ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 14.5ms | ActiveRecord: 11.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 2.1ms)
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.7ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$8inMOdnAXpIpUZ3Lj50/G.ISLb/GTVdAR55HpFXdokejML8LX7IbW"], ["updated_at", "2020-05-30 11:59:01.286672"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:01.295072"], ["last_login", "2020-05-30 11:59:01.292438"], ["id", 965022582]]
  [1m[35m (2.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 24ms (ActiveRecord: 12.2ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2020-05-30 11:59:01.314050"], ["id", 965022582]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:01.321927"], ["last_login", "2020-05-30 11:59:01.319529"], ["id", 965022582]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 21ms (ActiveRecord: 12.2ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_mobile-no_should_be_minimum_10_digits
----------------------------------------------------
  [1m[36mUser Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (3.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_the_same
--------------------------------------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (2.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "foo@bar_barz.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_minimum_8_characters
--------------------------------------------------------------------------------
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_contain_only_digits_and_words
--------------------------------------------------------------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_mobile-no_should_be_in_between_10_to_13_digits
-------------------------------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$O3r8qlh/oTN2EhmUyc5QrOz1KWN6U1g6X0tmquZjZfuevL53BhYFq"], ["created_at", "2020-05-30 11:59:01.511640"], ["updated_at", "2020-05-30 11:59:01.511640"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "TEST@TEST.COM"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_maximum_20_characters
---------------------------------------------------------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_exclude_special_characters
-----------------------------------------------------------------------------------
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_in_between_8_and_20_characters
------------------------------------------------------------------------------------------
  [1m[36mUser Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_mobile-no_should_be_maximum_13_digits
----------------------------------------------------
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_can_contain_only_digits_and_words
-----------------------------------------------------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UserTest: test_mobile-no_should_be_digits
-----------------------------------------
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------
CommentTest: test_should_be_valid
---------------------------------
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.8ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:01.642587"], ["updated_at", "2020-05-30 11:59:01.642587"]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$ETNgE3psPAUNtXlTzm2jf.uM/oN.y0WoFvsVUO/LZWZkLO1OYjksO"], ["created_at", "2020-05-30 11:59:01.657075"], ["updated_at", "2020-05-30 11:59:01.657075"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022585], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078166], ["LIMIT", 1]]
  [1m[36mPost Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (1.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:59:01.673093"], ["updated_at", "2020-05-30 11:59:01.673093"], ["topic_id", 426078166], ["user_id", 965022585]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022585], ["LIMIT", 1]]
  [1m[36mPost Load (1.3ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
TopicsControllerTest: test_should_redirect_to_home_path_after_toggle_the_topic
------------------------------------------------------------------------------
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.6ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:01.698006"], ["updated_at", "2020-05-30 11:59:01.698006"]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/topics/426078167" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by TopicsController#update as HTML
  Parameters: {"id"=>"426078167"}
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078167], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_user_id_and_topic_id_are_not_valid
---------------------------------------------------------------------------
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.5ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:01.728625"], ["updated_at", "2020-05-30 11:59:01.728625"]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$gkOxT2Ux6UBF54nRZtEEpu5VveY/vQWNB0ClBQbxIEz3tfL6HYU0."], ["created_at", "2020-05-30 11:59:01.738758"], ["updated_at", "2020-05-30 11:59:01.738758"]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostTest: test_post_content_cannot_be_empty
-------------------------------------------
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.0ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:01.764924"], ["updated_at", "2020-05-30 11:59:01.764924"]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$7vwQ.OVMfWdSosEcRyKJWOU6WeyQaubB3tAVPzQSu8M0QTovWQhzu"], ["created_at", "2020-05-30 11:59:01.775808"], ["updated_at", "2020-05-30 11:59:01.775808"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022587], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078169], ["LIMIT", 1]]
  [1m[36mPost Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostTest: test_post_title_cannot_be_empty
-----------------------------------------
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.5ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:01.801651"], ["updated_at", "2020-05-30 11:59:01.801651"]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$VoPg9WlExdilWYDocacvdOeU76TJLEE7fwY3OB.ISAGxsrxvNoC3G"], ["created_at", "2020-05-30 11:59:01.812827"], ["updated_at", "2020-05-30 11:59:01.812827"]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022588], ["LIMIT", 1]]
  [1m[36mTopic Load (1.4ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078170], ["LIMIT", 1]]
  [1m[36mPost Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "  "], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_user_id_is_not_valid
-------------------------------------------------------------
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.8ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:01.840768"], ["updated_at", "2020-05-30 11:59:01.840768"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$6VaMNnDqGFdYg5DfoYcD..k9l30zFd8bYWXP5t0MZ4OUWYYspcT7."], ["created_at", "2020-05-30 11:59:01.854112"], ["updated_at", "2020-05-30 11:59:01.854112"]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022589], ["LIMIT", 1]]
  [1m[36mTopic Load (1.3ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_topic_id_is_not_valid
--------------------------------------------------------------
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.7ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:01.880058"], ["updated_at", "2020-05-30 11:59:01.880058"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$Fkt5PF78mlgsPibe4aEzeurBJB3Hwj/fKfm4.zsKlzelSARNyeEdO"], ["created_at", "2020-05-30 11:59:01.891549"], ["updated_at", "2020-05-30 11:59:01.891549"]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022590], ["LIMIT", 1]]
  [1m[36mTopic Load (1.4ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
------------------------------
PostTest: test_should_be_valid
------------------------------
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.3ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:01.917438"], ["updated_at", "2020-05-30 11:59:01.917438"]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$ybqNn5uPlbBROLjMycSVBup3KMbADrJL5xe3RBR3rqhqzUnkWB38a"], ["created_at", "2020-05-30 11:59:01.929082"], ["updated_at", "2020-05-30 11:59:01.929082"]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022591], ["LIMIT", 1]]
  [1m[36mTopic Load (1.4ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078173], ["LIMIT", 1]]
  [1m[36mPost Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
SessionsControllerTest: test_should_get_login
---------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:01 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$yzqr0q9bHNkmzuQwLg8MqelkoGFWF3j7aMdcb5O4Vd5fXXr1C1yNm"], ["updated_at", "2020-05-30 11:59:02.027740"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Jlf2BSiZ0KyHsyVs1egN9.3JoRiLKpfSEbXoqsfLOWGnidlOgXoNa"], ["updated_at", "2020-05-30 11:59:02.036836"], ["id", 965022582]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$xUO1U5OXaZKOX3.LMqs8k.wiIUsJ13c/AvCcAUmZ8BnbSTZUMMIKy"], ["updated_at", "2020-05-30 11:59:02.063272"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------
TopicTest: test_should_be_valid
-------------------------------
  [1m[36mTopic Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
UsersControllerTest: test_should_render_myprofile_when_logged_in
----------------------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:02 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$LQanPN6l6b/2QQU0JNGR8.QSfz1HTyPe1xmsnt9wTG2egcVmmdh8O"], ["updated_at", "2020-05-30 11:59:02.115193"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:02.122605"], ["last_login", "2020-05-30 11:59:02.120580"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 21ms (ActiveRecord: 11.3ms)
Started GET "/myprofile/965022582" for 127.0.0.1 at 2020-05-30 11:59:02 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"965022582"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  Rendering users/myprofile.html.erb within layouts/application
  Rendered users/_side_navbar.html.erb (1.3ms)
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 965022582]]
  [1m[36mComment Load (1.8ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1 ORDER BY created_at desc[0m  [["user_id", 965022582]]
  Rendered users/_show.html.erb (12.2ms)
  Rendered users/myprofile.html.erb within layouts/application (28.7ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 28.3ms | ActiveRecord: 7.8ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:59:02 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
UsersControllerTest: test_should_not_redirect_edit_when_not_logged_in
---------------------------------------------------------------------
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/users/965022582/edit" for 127.0.0.1 at 2020-05-30 11:59:02 +0000
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"965022582"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
UsersControllerTest: test_should_redirect_myprofile_when_incorrect_user
-----------------------------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:02 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$/Egfib5F5jOSZVyWdXlKduPJXnm7Iydg1h5s7JVYIF6xdNf2ennKi"], ["updated_at", "2020-05-30 11:59:02.252626"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:02.259817"], ["last_login", "2020-05-30 11:59:02.257905"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 20ms (ActiveRecord: 10.7ms)
Started GET "/myprofile/129232768" for 127.0.0.1 at 2020-05-30 11:59:02 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"129232768"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 2.9ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
UsersControllerTest: test_should_redirect_myprofile_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/myprofile/965022582" for 127.0.0.1 at 2020-05-30 11:59:02 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"965022582"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "topics" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "posts";
DELETE FROM "users";
DELETE FROM "comments";
DELETE FROM "topics";
INSERT INTO "users" ("id", "email", "mobile", "password_digest", "created_at", "updated_at", "username", "city", "introduction", "cardtype", "cardno", "remember_digest", "last_login", "reset_digest", "reset_sent_at") VALUES (965022582, 'testuser@example.com', '0123456789', '$2a$04$2LaICdp2qW1ZUF19KzbAlOsN3uKZ1OIrxDcB1DVTZ6lHtNeFDh6p2', '2020-05-30 11:59:24.870516', '2020-05-30 11:59:24.870516', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (129232768, 'james@example.com', '0123456789', '$2a$04$DstBy91FX7gBbBdN3kvP4eLavLQtgY9MCZ.r8XL8bTnaZvaqdZdxW', '2020-05-30 11:59:24.870516', '2020-05-30 11:59:24.870516', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "topics" ("id", "name", "created_at", "updated_at") VALUES (426078165, 'React', '2020-05-30 11:59:24.883160', '2020-05-30 11:59:24.883160'), (156340709, 'A.I.', '2020-05-30 11:59:24.883160', '2020-05-30 11:59:24.883160')[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "topics" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 496ms (Views: 482.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 2.0ms)
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/new.html.erb within layouts/application (13.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 25.8ms | ActiveRecord: 0.0ms)
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$oq0erksPjKltz/Fqv4O2YuW.c27voPCWwtXKrhCzPrRMvvk0fuAoi"], ["updated_at", "2020-05-30 11:59:25.685733"], ["id", 965022582]]
  [1m[35m (2.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:25.697298"], ["last_login", "2020-05-30 11:59:25.693654"], ["id", 965022582]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 27ms (ActiveRecord: 15.5ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2020-05-30 11:59:25.715349"], ["id", 965022582]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:25.723558"], ["last_login", "2020-05-30 11:59:25.720988"], ["id", 965022582]]
  [1m[35m (6.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 27ms (ActiveRecord: 17.5ms)
  [1m[35m (2.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (3.1ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$HhNxOAczV3fcP8ldmrNPv.iy3KtFjz2BBLkL3GNtqjhQa6VkxjsAW"], ["updated_at", "2020-05-30 11:59:25.765196"], ["id", 965022582]]
  [1m[35m (2.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:25.776833"], ["last_login", "2020-05-30 11:59:25.773782"], ["id", 965022582]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 31ms (ActiveRecord: 17.2ms)
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:25.832016"], ["last_login", "2020-05-30 11:59:25.828887"], ["id", 965022582]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 13.4ms)
Started GET "/home" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mPost Load (2.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:59:25.847887' AND created_at <= '2020-05-30 11:59:25.848000') ORDER BY created_at desc[0m
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (2.3ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (3.9ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (40.9ms)
  Rendered posts/index.html.erb within layouts/application (65.2ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 94ms (Views: 55.9ms | ActiveRecord: 25.6ms)
Started DELETE "/logout" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 7.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2020-05-30 11:59:25 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (2.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:59:25.968484' AND created_at <= '2020-05-30 11:59:25.968582') ORDER BY created_at desc[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (2.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (2.2ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (2.0ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (18.9ms)
  Rendered posts/index.html.erb within layouts/application (23.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 28ms (Views: 13.3ms | ActiveRecord: 13.9ms)
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_user_id_and_topic_id_are_not_valid
---------------------------------------------------------------------------
  [1m[35m (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.9ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:26.022951"], ["updated_at", "2020-05-30 11:59:26.022951"]]
  [1m[35m (2.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$QIyYVaHodMSC3en.UI1mNOc5gD.u.Vvra6qxbYRqhVJB4O0QOptRy"], ["created_at", "2020-05-30 11:59:26.043576"], ["updated_at", "2020-05-30 11:59:26.043576"]]
  [1m[35m (2.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mTopic Load (2.1ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_user_id_is_not_valid
-------------------------------------------------------------
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.4ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:26.098864"], ["updated_at", "2020-05-30 11:59:26.098864"]]
  [1m[35m (2.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$GnUf6zmbcxgawmtMTWob8.1972ZYCBeoikemtgsGgz19NAxseqXwW"], ["created_at", "2020-05-30 11:59:26.113547"], ["updated_at", "2020-05-30 11:59:26.113547"]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022584], ["LIMIT", 1]]
  [1m[36mTopic Load (1.9ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostTest: test_post_title_cannot_be_empty
-----------------------------------------
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.3ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:26.144851"], ["updated_at", "2020-05-30 11:59:26.144851"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$rrjKDoviVUPpiGNxfcpCZ.8FHm19mgZZJI5RkbIobUbYiyDuzqTD."], ["created_at", "2020-05-30 11:59:26.157428"], ["updated_at", "2020-05-30 11:59:26.157428"]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022585], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078168], ["LIMIT", 1]]
  [1m[36mPost Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "  "], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PostTest: test_post_cannot_be_created_if_topic_id_is_not_valid
--------------------------------------------------------------
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.0ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:26.186068"], ["updated_at", "2020-05-30 11:59:26.186068"]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$u7WWBJE8AXcxTJfqxxnaXuCkuke6cB3/HUNusrPtFxUoOQ7d24gJq"], ["created_at", "2020-05-30 11:59:26.200418"], ["updated_at", "2020-05-30 11:59:26.200418"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022586], ["LIMIT", 1]]
  [1m[36mTopic Load (2.4ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 2000], ["LIMIT", 1]]
  [1m[36mPost Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PostTest: test_post_content_cannot_be_empty
-------------------------------------------
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.4ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:26.229947"], ["updated_at", "2020-05-30 11:59:26.229947"]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$9IC9z3ENY1aiyrogvi75.erxN9XcExaT0XO739w48N1gDGovc.1i2"], ["created_at", "2020-05-30 11:59:26.243879"], ["updated_at", "2020-05-30 11:59:26.243879"]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022587], ["LIMIT", 1]]
  [1m[36mTopic Load (2.2ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078170], ["LIMIT", 1]]
  [1m[36mPost Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
PostTest: test_should_be_valid
------------------------------
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.3ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:26.278176"], ["updated_at", "2020-05-30 11:59:26.278176"]]
  [1m[35m (2.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$Dw1CSCTUdt4MPou44jplEOXSFcsrhtePjzJjrcCY.cTqwYoTBIcDS"], ["created_at", "2020-05-30 11:59:26.291744"], ["updated_at", "2020-05-30 11:59:26.291744"]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022588], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078171], ["LIMIT", 1]]
  [1m[36mPost Exists (4.3ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
TopicsControllerTest: test_should_redirect_to_home_path_after_toggle_the_topic
------------------------------------------------------------------------------
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (1.7ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:26.325556"], ["updated_at", "2020-05-30 11:59:26.325556"]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/topics/426078172" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by TopicsController#update as HTML
  Parameters: {"id"=>"426078172"}
  [1m[36mTopic Load (2.2ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078172], ["LIMIT", 1]]
Redirected to http://www.example.com/home
Completed 302 Found in 5ms (ActiveRecord: 2.2ms)
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
SessionsControllerTest: test_should_get_login
---------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Started GET "/login" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (2.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------
CommentTest: test_should_be_valid
---------------------------------
  [1m[35m (2.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTopic Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[36mTopic Create (2.0ms)[0m  [1m[32mINSERT INTO "topics" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "AWS"], ["created_at", "2020-05-30 11:59:26.418829"], ["updated_at", "2020-05-30 11:59:26.418829"]]
  [1m[35m (2.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$24yNBzesLueIsPAuIgTUQ./w7xedR.6.zrB9usXoyh5ULZ5MSTM6K"], ["created_at", "2020-05-30 11:59:26.433477"], ["updated_at", "2020-05-30 11:59:26.433477"]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022589], ["LIMIT", 1]]
  [1m[36mTopic Load (1.7ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078173], ["LIMIT", 1]]
  [1m[36mPost Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:59:26.450192"], ["updated_at", "2020-05-30 11:59:26.450192"], ["topic_id", 426078173], ["user_id", 965022589]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022589], ["LIMIT", 1]]
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
-------------------------------
TopicTest: test_should_be_valid
-------------------------------
  [1m[36mTopic Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "topics" WHERE LOWER("topics"."name") = LOWER($1) LIMIT $2[0m  [["name", "AWS"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.5ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$4C16Ue4WjJWG/0F25QiayuhnYXlPLUfu212fm8nBnf6vz5SdHadee"], ["updated_at", "2020-05-30 11:59:26.505232"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$HUrxHVT365wcqX3MnH2Cku6e7cvH1ZIY9C/PlwYikPtFr3viosEuO"], ["updated_at", "2020-05-30 11:59:26.515995"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$HwdojJJaHsdOucu4d8wrEOQDmR6u.sxTwU6WHllYBIRMwjhdOJhoC"], ["updated_at", "2020-05-30 11:59:26.538562"], ["id", 965022582]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["mobile", "0123456789"], ["password_digest", "$2a$04$4FTkqAlDYO9VQqLPZBARh.KN8Dz7MvSBINvwfk1ewIf4YRtkXrBv."], ["created_at", "2020-05-30 11:59:26.568029"], ["updated_at", "2020-05-30 11:59:26.568029"]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "TEST@TEST.COM"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_mobile-no_should_be_minimum_10_digits
----------------------------------------------------
  [1m[36mUser Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_the_same
--------------------------------------------------------------------
  [1m[36mUser Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_maximum_20_characters
---------------------------------------------------------------------------------
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_mobile-no_should_be_in_between_10_to_13_digits
-------------------------------------------------------------
  [1m[36mUser Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_minimum_8_characters
--------------------------------------------------------------------------------
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "     "], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_can_contain_only_digits_and_words
-----------------------------------------------------------------------------------
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UserTest: test_mobile-no_should_be_digits
-----------------------------------------
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UserTest: test_mobile-no_should_be_maximum_13_digits
----------------------------------------------------
  [1m[36mUser Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_contain_only_digits_and_words
--------------------------------------------------------------------------------------
  [1m[36mUser Exists (3.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_exclude_special_characters
-----------------------------------------------------------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
UserTest: test_password_and_password_confirmation_should_be_in_between_8_and_20_characters
------------------------------------------------------------------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user@example,com"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user_at_foo.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user.name@example."], ["LIMIT", 1]]
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "foo@bar_barz.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "foo@bar+baz.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "mobile"=>"0000000232"}}
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "mobile", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user@example.com"], ["mobile", "0000000232"], ["password_digest", "$2a$04$sPxA0nlkg8kIdBmsqiE8CuM8.XqmijbPx8.padqiC1.nBaTFXo9hu"], ["created_at", "2020-05-30 11:59:26.912333"], ["updated_at", "2020-05-30 11:59:26.912333"]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:26.920328"], ["last_login", "2020-05-30 11:59:26.917687"], ["id", 965022591]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 12.7ms)
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/home" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by PostsController#index as HTML
  Rendering posts/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022591], ["LIMIT", 1]]
  [1m[36mPost Load (1.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE (created_at >= '2020-04-30 11:59:26.932976' AND created_at <= '2020-05-30 11:59:26.933067') ORDER BY created_at desc[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022591], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.6ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (18.1ms)
  Rendered posts/index.html.erb within layouts/application (24.3ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022591], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 15.4ms | ActiveRecord: 14.1ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2020-05-30 11:59:26 +0000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"invaliduser@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: :name
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "invaliduser@invalid"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (1.3ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 5.6ms | ActiveRecord: 4.8ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
PostsControllerTest: test_should_go_to_the_post's_page
------------------------------------------------------
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.4ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (1.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:59:27.035418"], ["updated_at", "2020-05-30 11:59:27.035418"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/posts/2" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (2.1ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.4ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) AND "posts"."id" != $2 LIMIT $3[0m  [["title", "Testing Post"], ["id", 2], ["LIMIT", 1]]
  [1m[36mPost Update (2.0ms)[0m  [1m[33mUPDATE "posts" SET "view" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["view", 1], ["updated_at", "2020-05-30 11:59:27.056718"], ["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering posts/show.html.erb within layouts/application
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 2]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY last_login desc LIMIT $1[0m  [["LIMIT", 12]]
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT "topics".* FROM "topics" ORDER BY "topics"."name" ASC[0m
  [1m[36mPost Load (1.5ms)[0m  [1m[34mSELECT  "posts".* FROM "posts" ORDER BY "posts"."view" DESC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered posts/_sidebar.html.erb (12.1ms)
  Rendered posts/show.html.erb within layouts/application (25.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 18.1ms | ActiveRecord: 21.6ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
PostsControllerTest: test_should_redirect_new_post_if_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (3.1ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.8ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (2.5ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:59:27.129082"], ["updated_at", "2020-05-30 11:59:27.129082"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/posts/new" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by PostsController#new as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
PostsControllerTest: test_should_redirect_to_new_post_if_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (1.5ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mTopic Load (2.2ms)[0m  [1m[34mSELECT  "topics".* FROM "topics" WHERE "topics"."id" = $1 LIMIT $2[0m  [["id", 426078165], ["LIMIT", 1]]
  [1m[36mPost Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "posts" WHERE LOWER("posts"."title") = LOWER($1) LIMIT $2[0m  [["title", "Testing Post"], ["LIMIT", 1]]
  [1m[36mPost Create (1.9ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "view", "created_at", "updated_at", "topic_id", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Testing Post"], ["content", "testing"], ["view", 0], ["created_at", "2020-05-30 11:59:27.164274"], ["updated_at", "2020-05-30 11:59:27.164274"], ["topic_id", 426078165], ["user_id", 129232768]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"james@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "james@example.com"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$OxKahracip0xjcWucVcOo.uOybzp3R76VgqS.dO2eqoBKRyF59dq2"], ["updated_at", "2020-05-30 11:59:27.180378"], ["id", 129232768]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:27.187907"], ["last_login", "2020-05-30 11:59:27.185873"], ["id", 129232768]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 22ms (ActiveRecord: 11.8ms)
Started GET "/posts/new" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by PostsController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_post_errors.html.erb (0.5ms)
  [1m[36mTopic Load (1.6ms)[0m  [1m[34mSELECT "topics".* FROM "topics"[0m
  Rendered posts/new.html.erb within layouts/application (15.0ms)
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 129232768], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 18.4ms | ActiveRecord: 4.3ms)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
UsersControllerTest: test_should_not_redirect_edit_when_not_logged_in
---------------------------------------------------------------------
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/users/965022582/edit" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"965022582"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
UsersControllerTest: test_should_redirect_myprofile_when_incorrect_user
-----------------------------------------------------------------------
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$nI/i84c9DFV5/lGsvCW8xOJlRJifshABqTik.dJD32KnhPurHp.yW"], ["updated_at", "2020-05-30 11:59:27.275744"], ["id", 965022582]]
  [1m[35m (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:27.284183"], ["last_login", "2020-05-30 11:59:27.281961"], ["id", 965022582]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 21ms (ActiveRecord: 11.6ms)
Started GET "/myprofile/129232768" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"129232768"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 2.9ms)
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
UsersControllerTest: test_should_render_myprofile_when_logged_in
----------------------------------------------------------------
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"testuser@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "testuser@example.com"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ko7E9./JwoJZH7FpFISBLe4bdRc4Q3RHiGhKJrYxSBA4.eBewdkOS"], ["updated_at", "2020-05-30 11:59:27.324861"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "last_login" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2020-05-30 11:59:27.332896"], ["last_login", "2020-05-30 11:59:27.330638"], ["id", 965022582]]
  [1m[35m (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/home
Completed 302 Found in 20ms (ActiveRecord: 10.2ms)
Started GET "/myprofile/965022582" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"965022582"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  Rendering users/myprofile.html.erb within layouts/application
  Rendered users/_side_navbar.html.erb (1.2ms)
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."user_id" = $1[0m  [["user_id", 965022582]]
  [1m[36mComment Load (1.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."user_id" = $1 ORDER BY created_at desc[0m  [["user_id", 965022582]]
  Rendered users/_show.html.erb (12.0ms)
  Rendered users/myprofile.html.erb within layouts/application (35.4ms)
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT  "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 965022582], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 35.4ms | ActiveRecord: 7.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/new" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
UsersControllerTest: test_should_redirect_myprofile_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129232768], ["LIMIT", 1]]
Started GET "/myprofile/965022582" for 127.0.0.1 at 2020-05-30 11:59:27 +0000
Processing by UsersController#myprofile as HTML
  Parameters: {"id"=>"965022582"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 965022582], ["LIMIT", 1]]
  Rendering user_mailer/password_reset.html.erb within layouts/mailer
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.7ms)
  Rendering user_mailer/password_reset.text.erb within layouts/mailer
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.5ms)
UserMailer#password_reset: processed outbound mail in 196.3ms
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
